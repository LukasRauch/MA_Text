\documentclass[german,a4paper,12pt,oneside]{scrbook}
\usepackage[utf8]{inputenc}
\usepackage{amsmath, amsthm, amssymb, mathtools}
\usepackage{bm}
\usepackage[ngerman]{babel}
\usepackage{marvosym}
\usepackage{graphics}
\usepackage{natbib}

\newtheorem{satz}{Satz}[chapter]
\theoremstyle{definition} 
\newtheorem{definition}[satz]{Definition} 
\theoremstyle{definition} 
\newtheorem{lemma}[satz]{Lemma} 
\theoremstyle{definition} 
\newtheorem{bemerkung}[satz]{Bemerkung}
\theoremstyle{definition} 
\newtheorem{korollar}[satz]{Korollar} 
\theoremstyle{definition}
\newtheorem{beispiel}[satz]{Beispiel} 
\theoremstyle{definition} 
\newtheorem{algorithmus}{Algorithmus} 
\newenvironment{beweis}{\begin{proof}[Beweis]}{\end{proof}}


\begin{document}

\pagenumbering{arabic}  % Nummerierung der Seiten in 'arabisch' % neues Kapitel mit Namen "Introduction"

\chapter{Grundlagen der Kontinuumsmechanik}
\section{Kontinuumsmechanik}
hier kommt was rein

\section{Differentielle Geometrie}
hier kommt noch mehr rein

\chapter{Truss Theory}  \setcounter{page}{1}   % setzt Seitenzaehlung auf 1
% Zitate aus Büchern werden so gemacht, siehe in \cite{schoenbucher03} oder \cite{marshall67}.




\section{Herleitung eines Fachwerkstab Elementes aus dem Kontinuum}
\subsection{Kinematik}

Das nachfolgende Kapitel behandelt die theoretische Herleitung eines Fachwerkstab-Elementes mit den Methoden der Kontinuumsmechanik. Das Kapitel ist dahingehend zu interpretieren, dass es auf verständliche Art und Weise das Vorgen bei der Herleitung eines allgemeinen Elementes einschließt, aber die komplexe Mechaniken eines Balkenelementes außer Acht lässt.

Einhergehend mit der Definition des Fachwerkes unterwirft sich das allgemeine Fachwerkelement einigen vereinfachten Annahmen. So wird im Nachfolgenden davon ausgegangen, dass das Element an den Knotenpunkten ideal gelenkig gelagert ist. Äußere Lasten sind nicht direkt auf den Stab aufzubringen, sondern ausschließlich über die Knoten einzuleiten. In diesem Sinne sind mögliche räumlich ausgedehnte Lasten im Rahmen einer Vorberechnung auf die Fachwerkknoten Aufzuteilen.  Als klassisches Stabtragwerk sind die Längsabmessungen sehr viel größer als die entsprechenden Dicken des Querschnittes in Höhe und Breite. Bezüglich des Kräfteflusses innerhalb des betrachteten Elementes kann davon ausgegangen werden, dass alle Kräfte in Längsrichtung auf den Schwerpunkt des ideellen Querschnittes bezogen sind. Außerdem ist davon auszugehen, dass ein Fachwerkstab zwischen zwei Knoten ideal grade Verläuft. Dass bedeutet dass innerhalb des Elements keine Momente bzw. Schubkräfte auftreten. Statt dessen reduziert sich das Element auf die Übertragung von reinen Normalkräften.

Grundsätzlich sei anzumerken, dass es  mehrere herangehenseisen gibt, um die Mechanik eines solchen Elementes zu beschreiben. An dieser Stelle konzentrieren wir uns auf die Herleitung eines algemeinen Elementes unter Zuhilfenahme der Kontinuumsmechanik um seine Geometrie im Raum zu beschreiben. Die eigentliche Elementformulierung erfolgt im Anschluss über das Prinzip der virtuellen Arbeit durch die Koppelung von Spannungen \textbf{S} und Dehnungen \textbf{E}. 

\LARGE % TODO
\emph{Hier Bild von Ausgangszustand einfügen: vgl. Figure 5.1 IGA Skript}

\normalsize
Die Darstellung [Referenz] zeigt schematisch den unverformten so wie den verformten Zustand einen Stabes mit seinem jeweiligen Positionsvektor im geometrischen Raum. Die Vektornotation erfolgt in Krummliniger Koordinatendarstellung (nachfolgend als \glqq\emph{Curvilinear}\grqq ~aus dem Englsichen bezeichnet) als eine Funktion aus $\Theta^1$ in einem euklidischen Vektorraum.

Der Stab wird als Reduktion auf seine Mittelachse beschrieben. Diese Linie besitzt im Raum keine Ausdehnung. Jeder beliebige Punkt auf der Stabsystemachse kann durch seinen Positionsvektor \textbf{R} in Abhängigkeit des Kurvenparameters $\Theta^1$ beschrieben werden. Ein beliebiger Punkt des Stabquerschnittes im Raum kann wiederum durch ein normalisiertes Koordinatensystem mit orthogonalen Basisvektoren \textbf{A}$_{\alpha}$ (und \textbf{a}$_{\alpha}$) in Abhängigkeit der Parameter $\Theta^2$ und $\Theta^3$ bestimmt werden. Nachfolgend gelten die vereinfachten Annahmen der Bernoullischen Balkentheorie. Demnach kann davon ausgegangen werden, dass die Basisvektoren auch nach Deformation des Stabes senkrecht auf der Balkenachse stehen. Dies induziert ein ebenbleiben des Querschnittes bei Verformung des Elementes. Wir sprechen von einem konstanten, starren Querschnitt.
% Vielleicht noch ergänzen, dass Theta(2,3) und die korrespondierenden Alpha(2,3) unabhängig von dem Kurvenparameter Theta(1) sind 

\vspace{1.0cm}
Parametrisierte Darstellung:
\begin{subequations}
    \begin{equation} \label{Positionsvektor_a}
        \bm{X}(\Theta^1) = \bm{R}(\Theta^1) + \Theta^3\bm{A}_2 + \Theta^3\bm{A}_3 
    \end{equation}
    \begin{equation} \label{Positionsvektor_b}
        \bm{x}(\theta^1) = \bm{r}(\theta^1) + \theta^3\bm{a}_2 + \theta^3\bm{a}_3  
    \end{equation}
\end{subequations}

\vspace{0.5cm}
Wie in Kapitel [Referenz] beschrieben, sind die Basisvektoren eines Kontinuums wie folgt definiert:

\begin{subequations}
    \begin{equation}
        \bm{G}_i = \bm{X}_{,i}
    \end{equation}
    \begin{equation}
        \bm{g}_i = \bm{x}_{,i}
    \end{equation}
\end{subequations}

\vspace{0.5cm}
Infolge der Vorschrift aus Gleichung \eqref{Positionsvektor_a} und \eqref{Positionsvektor_b} ergeben sich daraus die Basisvektoren des Querschnittes im unverformten sowie im verformten Zustand abhängig vom Kurvenparameter $\Theta^1$ wie folgt: 

\begin{subequations}
    \begin{equation} \label{Basisvektor_A1}
        \bm{G}_1 = \bm{X}_{,1} = \bm{A}_1(\Theta^1), \qquad     
        \bm{g}_1 = \bm{x}_{,1} = \bm{a}_1(\theta^1)
    \end{equation}
    \begin{equation}
        \bm{G}_2 = \bm{X}_{,2} = \bm{A}_2, \qquad     
        \bm{g}_2 = \bm{x}_{,2} = \bm{a}_2
    \end{equation}
    \begin{equation} \label{Basisvektor_A3}
        \bm{G}_1 = \bm{X}_{,1} = \bm{A}_1, \qquad     
        \bm{g}_1 = \bm{x}_{,1} = \bm{a}_1
    \end{equation}
\end{subequations}

\vspace{0.5cm}
Mit dieser Definition lässt sich die Position jeder gegebenen Konfiguration vor und nach ihrer Deformation im curvilinearen Koordinatenraum parametrisch beschreiben.

\vspace{0.5cm}
Dehnung kann definiert werden als die Längenänderung eines beliebigen Elementes die mit seiner Bewegung einhergeht: 

\begin{equation}
    (ds)^2 - (dS)^2 = (d\bm{r})^2 - (d\bm{R})^2    
\end{equation}

\vspace{0.5cm}
Davon abgeleitet beschreibt der \emph{Green-Lagrange} Tensor Dehnungen im curvilinearen Raum und ist in algemeiner Form folgend definiert, wobei $g_{ij}$ und $G_{ij}$ die Metriken der Basisvektoren symbolisieren.

\begin{equation}
    E_{ij} = \frac{1}{2} (g_{ij} - G_{ij} )
\end{equation}

\vspace{0.5cm}
Setzt man die Basisvektoren aus Gleichung \eqref{Basisvektor_A1} bis \eqref{Basisvektor_A3} in den \emph{Green-Lagrange} Dehnungstensor ein, erhält man ein Dehnunungsmaß für beliebige Verformungen des Elementes. An der Stelle ist zu berücksichtigen, dass anhand der Definition eines Fachwerkelementes die Annahme getroffen wird, dass das Element sich ausschließlich in Systemachse verformen kann. Mit $E_{12} = E_{21} = E_{22} = E_{13} = E_{31} = E_{33} = 0$ reduziert sich der Dehnungstensor auf einen einzelnen, skalaren Eintrag $E_{11}$. Die entsprechenden Metriken der verformten und unverformten Basisvektoren berechnen sich somit zu :

\begin{subequations}
    \begin{equation}
        G_{11}(\Theta^1) = \bm{G}_1 \cdot \bm{G}_1 = \bm{X}_{,1} \cdot \bm{X}_{,1} = \bm{A}_1 \cdot \bm{A}_1 = A_{11}    
    \end{equation}
    \begin{equation}
        g_{11}(\Theta^1) = \bm{g}_1 \cdot \bm{g}_1 = \bm{x}_{,1} \cdot \bm{x}_{,1} = \bm{a}_1 \cdot \bm{a}_1 = a_{11}  
    \end{equation}
\end{subequations}

\vspace{0.5cm}
Der Dehnungstensor im curvilinearen Koordinatenraum schreibt sich damit zu

\begin{equation} \label{E_11_parameter}
    \epsilon = E_{11}(\Theta^1) =  \frac{1}{2}(a_{11} - A_{11})
\end{equation}

\vspace{0.5cm}
In der gängigen Ingenieursliteratur sind physische Dehnungen mit Einfluss auf das Materialgesetzt (engl. constitutive law) im kartesischen Koordinatenraum definiert. Die curvilinearen Basisvektoren sind daher zu transformieren. Variablen die sich im Folgenden auf das kartesische Koordinatensystem beziehen werden nachvollziehbar mit $\tilde{( .. )}$ notiert. Da die Basisvektoren des parametischen, genauso wie die des kartesischen Koordinatensystemes immer rechtwinklig auf einander stehen, sind ihre Richtungen identisch. Allerdings haben kartesische Basisvektoren immer Einheitslänge. Somit müssen die parametischen Basisvektoren im Zuge einer Vektortransformation zusätzlich normiert werden. 

\vspace{0.5cm}
Die Vektortransformation der Basisvektoren vom Rarameter- in den kartesischen Koordinatenraum ist definiert als: 

\begin{equation}
    \bm{e}_i = \frac{\bm{g}_i}{||\bm{g}_i||_2}    
\end{equation}

\vspace{0.5cm}
Unter Anwendung des Transformationsgesetzes zwischen zwei Koordinatensystemen kann der Dehnungstensor im geometrischen Raum wie folgt berechnet werden: 

\begin{subequations}
    \begin{equation*}
        \tilde{e}_{kl} = g_{ij}(\bm{e}_k \cdot \bm{g}^{i})(\bm{g}^{j} \cdot \bm{e}_l)
        = g_{ij} \left( \frac{\bm{g}_k}{||\bm{g}_k||_2} \cdot \bm{g}^{i} \right)
        \left( \bm{g}^{j} \cdot \frac{\bm{g}_l}{||\bm{g}_l||_2}  \right)
    \end{equation*}
    \begin{equation}
            \tilde{e}_{kl} = \frac{g_{kl}}{||\bm{g}_k||_2 \; ||\bm{g}_l||_2}
    \end{equation}

\vspace{0.5cm}

    \begin{equation*}
        \tilde{E}_{kl} = G_{ij}(\bm{E}_k \cdot \bm{G}^{i})(\bm{G}^{j} \cdot \bm{E}_l)
        = G_{ij} \left( \frac{\bm{G}_k}{||\bm{G}_k||_2} \cdot \bm{G}^{i} \right)
        \left( \bm{G}^{j} \cdot \frac{\bm{G}_l}{||\bm{G}_l||_2}  \right)
    \end{equation*}    
    \begin{equation}    
        \tilde{E}_{kl} = \frac{G_{kl}}{||\bm{G}_k||_2 \; ||\bm{G}_l||_2}
    \end{equation}    
\end{subequations}

\vspace{0.5cm}
Entsprechend dem curvilinearen parameterraum in Gleichung \eqref{E_11_parameter} lässt sich die axiale Dehnung $\epsilon$ im geometrischen Raum berechnen:

\begin{equation}
    \tilde{E}_{11}(\Theta^1) = \frac{\epsilon}{{||\bm{A}_1||_2}^2}    
\end{equation}

\vspace{2cm}
\subsection{Strukturmechanik}
Die Strukturmechanik hinter dem Element wird nach dem Prinzip der virtuellen Arbeit hergeleitet. Demnach wird auf ein System eine infinitesimal kleine Verschiebung $\delta u$ aufgebracht. Ein System das die Dirichlet Randbedingungen erfüllt ist im Gleichgewicht, falls die Summe aus geleisteter  interner virtueller Arbeit und  externer virtueller Arbeit für die virtuelle Verschiebung $\delta \bm{u}$ Null wird [REFERENZ Mechanics of structures S. 86 \& 90]. 

\begin{equation} \label{virtuelle Arbeit}    
    \delta W = - \delta W_{int} + \delta W_{ext} = 0    
\end{equation}      

\vspace{0.5cm}
Die interne virtuelle Arbeit ist definiert als:

\begin{equation} \label{ interne Arbeit}
    \delta W_{int} = - \int_{\Omega}^{} \bm{S} : \delta \bm{E} \; d \Omega
\end{equation}

\vspace{0.5cm}
Die exteren virtuelle Arbeit ist definiert als:

\begin{equation} \label{externe Arbeit}
    \delta W_{ext} = \int_ {\Gamma_N}{} \bm{t} \; \delta \bm{u} \; d \Gamma \; 
    + \; \int_{\Omega}{} \rho_0 \bm{B} \; \delta \bm{u} \; d \Omega
\end{equation}


\vspace{0.5cm}
wobei $\Omega$ für das Volumen und $\Gamma$ für die Oberfläche in der Ausgangskonfiguration stehen. $\delta \bm{E}$ repräsentiert die virtuellen Dehnungen und der Tensor $\bm{S}$ die energetisch zugeordneten internen Spannungen. Der Vektor $\bm{T}$ entspricht den an der Oberfläche angreifenden Kräften und Vektor $\bm{B}$ steht für die von außen wirkenden Volumenkräfte (engl. body forces). 

\vspace{0.5cm}
% TODO:: das ist schon wieder Truss-Beispiel
Unter Annahme eines konstanten Querschnittes mit der Querschnittsfläche $A$ lässt sich durch ein Vorintegration die innere virtuelle Arbeit durch $d \Omega = dA dL$ vereinfachen. 

\begin{equation}
    \delta W_{int} = - \int_{L}^{} A \; \bm{S} : \delta \bm{E} \; dL
\end{equation}

\vspace{0.5cm}
Für lineares Materialverhalten nach dem Hook'schen Gesetz gilt das Rheologische Stoffgesetzt (engl. constitutive law) nach dem sich Spannungen, gekoppelt über den Elastizitätsmodul, in Form von Dehnungen ausdrücken lassen. $\bm{C}$ steht an dieser Stelle für den Material-Dehnungsmodul.

% TODO Theorie noch mal genauer zum constitutive Law - IGA Skript S. 62 und Anna Beam S. 55

\begin{equation}
    \bm{S} = \bm{C} : \bm{E}
\end{equation}

\vspace{0.5cm}
Daraus folgt: 

\begin{equation}
    \delta W_{int} = - \int_{\Omega}^{} \; \bm{E} \; \bm{C} \; \delta \bm{E} \; d\Omega
\end{equation}



\vspace{0.5cm}
\LARGE
\subsubsection{Lösung der Arbeitsformulierung}

\vspace{0.5cm}
\normalsize
Bei der Formulierung in Gleichung \eqref{virtuelle Arbeit} beziehungsweise Gleichung \eqref{externe Arbeit} und \eqref{externe Arbeit} handelt es ich um die schwache Formulierung oder auch Variationsfomulierung (engl. weak form) des Equilibriums zwischen Trägheit, interner Arbeit und externer Arbeit das für bestimmte Randbedingungen erfüllt sein muss, damit ein System im Gleichgewicht ist. Da diese Art der Probleme in der Regel nicht an jedem Punkt explizit lösbar sind, bedient man sich mit der schwachen Formulierung im Bereich der Finite Elemente verschiedener Diskretisierungsmethoden die das Problem näherungsweise lösen. Dabei wird das Problem nicht an jedem Punkt explizit gelöst, aber das Gleichgewicht ist integriert für einen bestimmten Bereich erfüllt [REFERENZ IGA Skript S. 64].

Ein gängiges Prinzip der Finite Elemente Methode das in gleicher Weise im Bereich der isogeometrischen Strukturanalyse angewandt werden kann, ist die Galerken-Methode mit dem Ritz'schen Verfahren der Variationsrechnung zur Lösung linearer partieller Differentialgleichungen. Für ein bekanntes Materialgesetzt müssen die wahlweise approximierten Verschiebungen die kinematischen Bedingengen so wie die Randbedingungen erfüllen. Das heißt, sie müssen kinematisch zulässig sein [REFERENZ mechanics of structures S. 452]. Das setzt voraus, dass die angenommenen Verschiebungen $\tilde{\bm{u}}$

\begin{equation}
    \bm{\epsilon} = \frac{\partial \tilde{\bm{u}}}{\bm{u}}  \; \; in \; \Omega
\end{equation}

\vspace{0.5cm}
erfüllen muss.

\vspace{0.5cm}
Im Falle der virtuellen Arbeit muss das diskretisierte System unter Anwendung der Kettenregel differenziert werden, wobei die Gleichung \eqref{virtuelle Arbeit} für die Variation der Diskretisierungsvariablen $\delta u_r$ stets erfüllt sein muss. Die einzelnen Komponenten der Variation bilden die Anteile des Residualvektors  ${R}_r$ in Form von

\begin{equation}
    \delta W = \sum{\frac{\partial W}{\partial u_r} \delta u_r} 
    = \sum{R_r \delta u_r}  = 0
\end{equation}

\vspace{0.5cm}
und unter Berücksichtigung beliebiger Variationen (ungleich Null), ist diese Beziehung  gleichbedeuten zu 

\begin{equation} \label{residual_vektor}
    R_r = \frac{\partial W}{\partial u_r} = 0
\end{equation}

\vspace{0.5cm}
für jeden Eintrag des Residualvektors.


\vspace{0.5cm}
Eine iterative Methode zur Lösung der Residualgleichung \eqref{residual_vektor} nach Newton-Raphson erfordert die weitere Linearisierung des Problems an Stelle der aktuellen Verschiebung $u^*$  und führt damit das Verschiebungsinkrement $\Delta u_s$ und die korrespondierende Einträge $K_rs$ der tangentialen Steifigkeitsmatrix ein.

\begin{equation}
    LIN(R_r) = 
    \frac{\partial W}{\partial u_r} + 
    \frac{\partial ^2 W }{\partial u_r \: \partial u_s} \Delta u_s = 
    R_r \bigg\rvert_{u^*} + \sum_{s}{\frac{\partial R_r}{\partial u_s} \Delta u_s = 0}
\end{equation}

\vspace{0.5cm}
Im Rückschluss können der residual Kraftvektor und die Steifigkeitsmatrix in die Bestandsteile der internen und externen Kräfte zerlegt werden [REFERENZ IGA Skript S. 72].

\begin{equation}
    R_r = \frac{\partial W}{\partial u_r} = \frac{\partial W_{int}}{\partial u_r} + \frac{\partial W_{ext}}{\partial u_r} = -(F_{r}^{int} + F_{r}^{ext} )
\end{equation}

\begin{equation}
    K_{rs} = \frac{\partial R_s}{\partial u_s} = 
    \frac{\partial ^2 W}{\partial u_r \, \partial u_s} = 
    \frac{\partial ^2 W_{int}}{\partial u_r \, \partial u_s} + 
    \frac{\partial ^2 W_{ext}}{\partial u_r \, \partial u_s} = 
    K_{rs}^{int} + K_{rs}^{ext}
\end{equation}

\vspace{0.5cm}
Im Rahmen dieser Arbeit wird davon ausgegangen, dass angreifenden äußere Lasten verschiebungsunabhängig sind. In Folge dessen darf externe Steifigkeitsanteil $K_{rs}^{ext}$ eliminiert werden. Das Resultat ist ein lineares Gleichungssystem in Abhängigkeit der Verschiebungsfreiheitsgrade $u_s$ 

\begin{equation}
    \sum_{s} K_{rs} \Delta u_s = F_r^{int} + F_r^{ext}
\end{equation}













\chapter{IGA Begrifflichkeiten}  \setcounter{page}{1}   % setzt Seitenzaehlung auf 1
% Zitate aus Büchern werden so gemacht, siehe in \cite{schoenbucher03} oder \cite{marshall67}.

\section{Definition der wichtigeten Begrifflichkeiten bei der Arbeit mit IGA}

% Polynomialer Grad (engl. polynomial degree
\subsection{Polynomialer Grad (engl. polynomial degree)}
Der polynomiale Grad einer Kurve wird als ganzzahlige, positive Nummer angegeben, wobei der kleinst mögliche Grad praktisch bei 1 beginnt. Nach oben ist der Grad $p$ einer Kurve nur durch seine Anzahl an Kontrollpunkten $m$ begrenzt $p \leq m - 1$. Allderdings ist zu berücksichtigen, dass sich mit steigendem Grad die approximation des Kontrollpunktpolygons verschlechtert und der Algorithmus zunehmend instabil wird [REF Iga Skript S. 13]. Der definierte polynomiale Grad einer Kurve gibt vor, auf wie viele Intervalle $p+1$ eine jede Basisfunktion im Parameterraum Einfluss nimmt. Nur innerhalb dieses Bereiches hat die jeweilige Basisfunktion einen Funktionswert. Außerhalb ist ihr Einfluss dagegen zu Null definiert. Diese Eigenschafft wird auch als lokaler Einfluss der Basisfunktionen bezeichnet und ermöglicht es auch bei Kurven mit einer hohen Anzahl an Kontrollpunkten lokale Veränderungen vorzunehmen, ohne die Gesamtgeometrie zu verändern.

Die wahl des polynomialen Grades einer Kurve beeinflusst ihre Geometrie im Raum maßgeblich. Linien und Polylinien sind das Ergebnis von B-Spline-Kurven des ersten Grades , Kreise und Elypsen sind Beispiele für Kurven des zweiten Grades und Freiformkurven werden gängigerweise aus einer Kombination von B-Spline-Kurven des dritten bzw. fünften Grades erstellt [REF Rhino3D Developer Guides (Degree)].

\large
\vspace{1.5cm}
\hfil
Hier Bild von kurven 1.-, 2.-, und 3. Grades

\normalsize
% Kontrollpunkte
\subsection{Kontrollpunkte}
Die Kontrollpunkte einer B-Spline-Kurve sind maßgeblich für deren Geometrie im Raum verantwortlich. Formell bilden sie eine Liste aus Punktkoordinaten im Raum \\ $\bm{P}_i(x_i, y_i, z_i, w_i)$, mit zugewiesener $x, y, z$ Koordinate, sowie im Falle von NURBS einem individuellen NURBS-Gewicht $w_i$. Zur Erstellung einer B-Spline-Kurve muss die vorhandene Anzahl an Kontrollpunkten mindestens $p+1$ betragen, wobei p für den polynomialen Grad der Kurve steht. Der Grad einer B-Spline Kurve ist also direkt abhängig von der, auf ihr definierten Anzahl an Kontrollpunkten pro Element. Der intuitiveste Weg die Form einer B-Spline Kurve zu verändern ist durch Verschieben einzelner Kontrollpunkte. Das bedeutet allerdings nicht, dass die Punkte auch auf der Kurve liegen müssen. Abgesehen vom ersten und letzten Punkt einer jeden Kurve werden im Normalfall alle verbleibenden Kontrollpunkte durch den Kurvenverlauf lediglich (unterschiedlich stark) approximiert. Wie stark einzelne Punkte dabei angenähert werden ist wiederum sowohl von dem polynomialen Grad als auch von den, den Punkten zugewiesenen NURBS Gewichten abhängig.

% Knoten knots
\subsection{Knoten (engl. knots)}
\label{subsec: Knoten}
Knoten sind als Koordinaten im parametischen Raum definiert und unterteilen diesen in Intervalle, die auch Sektionen (engl. sections) genannt werden. Die Anzahl nötiger Knoten berechnet sich in Abhängigkeit der vorhandenen Kontrollpunkte $m$ und des Grades $p$ der Kurve als: 
\begin{equation*}
        n = m + p + 1
\end{equation*}

% Knotenvektor | knot vector
\subsection{Knotenvektor (engl. knot vector)}
\label{subsec:knot vector}
Jeder B-Spline Kurve ist zwingend eine Liste zugeordnet, die deren entsprechenden Knoten enthält. Diese Liste, häufig auch als Knotenvektor (engl. knot vector) bezeichnet, enthält die nötigen Information, wie die Knoten über den Parameterraum eines Elementes verteilt sind. Für den Sonderfall, dass alle Knoten gleichmäßig verteilt sind, wird der Knotenvektor als uniform bezeichnet.  Die Anzahl der Knoten im Knotenvektor ist abhängig von der Anzahl an Kontrollpunkten so wie von dem definierten Kurvengrad. Diese Bedingung ist in beide Richtungen gültig. Verändert man die Anzahl der Knoten einer Kurve, müssen demnach ebenfalls die Kontrollpunkte angepasst werden. Eine initiierende Veränderung des Kurvengrades ist ebenfalls möglich, aber keine gängige Praxis. Wichtig ist außerdem, dass die Einträge des Knotenvektors immer in aufsteigender Reihenfolge sortiert sind. 

\vspace{0.5cm}
Das Beispiel eines offenen Knotenvektors dritten Grades mit 7 Kontrollpunkten sieht wie folgt aus:
\begin{equation*}
    \Xi = [0.0, 0.0, 0.0, 0.0, 1.0, 2.0, 3.0, 4.0, 4.0, 4.0, 4.0]
\end{equation*}

\vspace{0.5cm}
Ein Normierter Knotenvektor ist im Parameterraum zwischen $0.0$ und $1.0$ definiert. 
\begin{equation*}
    \hat{\Xi} =  [0.0, 0.0, 0.0, 0.0, 0.25, 0.5, 0.75, 1.0, 1.0, 1.0, 1.0]
\end{equation*}


% Knot span | Knotenintervall
\subsection{Knotenintervall (engl. knot span)}
\label{subsec: Knotenintervall}
Wie im Abschnitt \ref{subsec: Knoten} beschrieben, werden B-Splines im Parameterraum definiert, wobei dieser Raum wiederum durch die Knoten in Intervalle unterteilt ist. Sei $\bm{U}$ der Knotenvektor und $u_i \leq u_{i+1}, \; i = 0,...,n-1$  dessen Einträge, sogenannte Knoten. Dem entsprechend ist das $i-te$ Knotenintervall, der Raum zwischen zwei Knoten im Parameterraum, als halb-offenes Interval $[u_0, u_{i+1}]$ definiert. An der Stelle mehrfacher Knoten kann ein Knotenintervall die Länge Null annehmen. Knotenintervalle mit Länge größer Null im Parameterraum sind gleichbedeutend mit B-Spline-Elmenten. Für den speziellen Fall dass der Knotenvektor keine inneren Knoten enthält und damit aus nur einem Element besteht, entsprechen B-Splines den nicht-rationalen Bézier Kurven. 

% Elemente
\subsection{Elemente}
Die Definition der Elemente im Kontext der Isogeometrischen Strukturanalyse unterscheidet sich klar von der Finiten Elemente Methode. Zwar wird auch hier ein Element durch eine bestimmte Anzahl diskreter Punkte und deren korrespondierende Basisfunktionen definiert, der unterschied ist aber dass die Basisfunktionen nicht einem einzelnen Element zu geordnet sind. Ein B-Spline-Patch ist im Parameterraum über seine Domain definiert. Diese Domain wird durch Knoten in Intervalle aufgeteilt, wobei jedes Interval ein B-Spline-Element definiert. Bei dieser Definition entsprechen die diskreten Punkte den B-Spline-Kontrollpunkten. Es ist wichtig zu verstehen, dass sich bei dieser Art der Elementdefinition die Basisfunktionen über ein größeres Set an Elementen erstrecken. Der Vorteil gegenüber der klassischen Finite Elemente Analyse ist, dass dadurch eine höhere Kontinuität der Basisfunktionen über die Grenzen der einzelnen Elemente hinweg erreicht wird. 
Berechnet werden die Basisfunktionen mit Hilfe der Cox-deBoor Rekursionsformel, die von den benachbarten Bereichen beeinflusst wird. Das führt dazu dass die Definition eines einzelnen Elementes nicht ohne die Betrachtung des gesamten B-Spline-Patches möglich ist. In dem Kontext ist die Frage berechtigt ob die Bezeichnung Element überhaupt zutreffend ist, wenn diese gar nicht unabhängig voneinander erstellt und beliebig in einem größeren Modell assembliert werden können, wie das bei FEM der Fall ist. Trotzdem, für die Implementierung macht es keinen Unterschied. IGA Elemente können genauso wie klassische FEM Elemente behandelt werden. Zum Beispiel die Steifigkeitsmatrix wird genauso auf Elementenebene berechnet und in eine globale Steifigkeitsmatrix assembliert. Lediglich die verwendeten Basisfunktionen unterscheiden sich. 

% Mehrfachknoten 
\subsection{Mehrfachknoten (engl. multiplicity)}
Ein Knoten kann innerhalb des Knotenvektors einer B-Spline Kurve mehrfach auftauchen. Im Englischen spricht man in diesem Fall von der multiplizität des Knotenvektors. Die maximale Häufigkeit eines solchen Mehrfachknotens ist durch den polynomialen Grad einer Kurve beschränkt. Innerhalb eines Elements, das heißt zwischen zwei Knoten, ist die entsprechende Basisfunktion $C^{\infty}$ kontinuierlich definiert. An Stelle eines einfachen Knotens ist die Kontinuität der Kurve $C^{p-1}$ wobei $p$ dem polynomialen Grad der Kurve entspricht. Erhöhung der multiplizität $k$ einer Kurve führt somit zur Reduzierung ihrer Kontinuität $C^{p-k}$. Ein Vorteil der B-Splines gegenüber Bézier Kurven ist, dass durch die lokale Verringerung der Kontinuität zu $C^{0}$ beispielsweise Knicke in ihrer Geometry erzeugt werden können.

% Open Knot Vector
\subsection{Offene Knotenvektoren (engl. open knot vector)}
Für den Fall dass ein Knotenvektor an Stelle des ersten und letzten Knoten eine multiplizität von $k = p+1$ hat, spricht man von einem offenen Knotenvektor (häufig auch eingespannter oder nicht-periodischer Knotenvektor genannt). B-Splines die dieses Kriterium erfüllen interpolieren mit ihrem Kurvenverlauf die genaue Position des ersten und letzten Kontrollpunktes. Außerdem ist die Steigung der Kurve an diesen beiden Stellen eine Tangente des erzeugenden Kontrollpolygons. Das hat den Vorteil, dass man auf einfache Art und Weise lediglich durch Definition von Knoten der Kurve, Randbedingungen wie Eispannungen und Anfangssteigung vorgeben kann.

% Shape Functions
\subsection{Basisfunktionen (engl. shape functions)}
Genauso wie Bézier-Kurven sind auch B-Spline Kurven eine lineare Kombination aus Basisfunktionen und Kontrollpunkten. Die Basisfunktionen werden als B-Splines (Kurzform Basis-Splines) bezeichnet, die als stückweise Polynome auf den Intervallen des Parameterraumes definiert sind. Der unterschied zu den Bézier-Kurven besteht darin, dass die B-Spline Basisfunktionen jeweils nur auf einer begrenzten Anzahl an Intervallen definiert sind. Diese werden in Abschnitt \ref{subsec: Knotenintervall} bereits als Knotenstützweite bezeichnet. Außerhalb der Knotenstützweite sind die zugeordneten Basisfunktionen zu null definiert. 
Eine weitere zwingend notwendige Eigenschaft der Basisfunktionen ist ihre Einheitlichkeit. In jedem beliebigen Knotenstützbereich zwischen zwei Knoten $[u_i, u_{i+1})$ muss an der Stelle $u$ die Summe aller Basisfunktionen $\sum^{i}_{j=i-p} {N_{j,p}(u)} = 1$ sein. Diese Eigenschaft wird auch als die Zerlegung der Eins (engl. partition of unity) bezeichnet. 


% Local Support
\subsection{lokaler Support}
Lokaler Support im IGA Terminus bedeutet, dass nicht zwingend jeder Kontrollpunkt einen Einfluss auf die Geometrie der gesamten Kurve haben muss. Die Beziehung $p+1$ gibt an wie viele Kontrollpunkte jeweils von einem B-Spline-Element beeinflusst werden. Das $n-te$ Element nimmt jeweils Einfluss auf die Kontrollpunkte $[\bm{P}^{n},...,\bm{P}^{n+p}]$. Als Sonderfall kann die Kombination eines hohen polynomialen Grades $p$ mit einer geringen Anzahl an Kontrollpunkten $k$ dazu führen dass jeder Kontrollpunkt Einfluss auf die gesamte Kurve nimmt $p = m-1$. In dem Fall entspricht der B-Spline einer Bézier-Kurve.


% NURBS Gewichte 
\subsection{NURBS Gewichte (engl. weights)}
Im Falle von NURBS-Kurven ist jedem Kontrollpunkt ein so genanntes Gewicht zugeordnet. Um den Einfluss der Gewichte zu verstehen, ist es einfach sich diese als eine Art Gravitation der Kontrollpunkte auf den Kurvenverlauf vorzustellen. Je höher das relative Gewicht eines Kontrollpunktes desto näher wird der Kurvenverlauf an diesen Punkt herangezogen. Mit wenigen Ausnahmen sind diese Gewichte positive Zahlen. Für den Sonderfall, dass die Gewichte aller Kontrollpunkte gleich sind (i.d.R. eins), wird die Kurve als nicht-rational bezeichnet und unterscheidet sich nicht mehr von einer regulären B-Spline Kurve.  Während B-Spline Kurven eine Kombination aus aus stückweise polynomialen Funktionen sind, werden NURBS aus stückweise rationalen Funktionen kombiniert. Die Modifikation der Splines durch Gewichting ermöglicht es Geometrien wir beispielsweise exakt konischen Formen, Kreise oder Hyperboloiden zu generieren. Mit B-Splines ist dies hingengen nicht möglich. 


\end{document}
